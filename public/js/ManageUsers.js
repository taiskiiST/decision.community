/*! For license information please see ManageUsers.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[316],{3700:(e,t,n)=>{"use strict";var r=n(5893),a=n(7294),s=n(3935);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,s=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw s}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=TSN,c=l.users,u=l.csrf_token;function d(){var e=i((0,a.useState)(""),2),t=e[0],n=e[1],s=i((0,a.useState)(c),2),o=s[0],l=s[1],d=i((0,a.useState)(1),2),p=d[0],m=d[1],f=i((0,a.useState)(1),2),x=f[0],h=f[1];(0,a.useEffect)((function(){o.map((function(e,t){return[].map.call(document.getElementsByClassName("permissions_"+t),(function(e){return e.innerHTML=""}))})),o.map((function(e,t){return e.permissions.split("=").map((function(e){return[].map.call(document.getElementsByClassName("permissions_"+t),(function(t){return t.innerHTML+="<div>"+e+"</div>"}))}))}))}),[]),(0,a.useEffect)((function(){var e=c.filter((function(e){return e.name.toLowerCase().includes(t)||e.phone.includes(t)||(e.email?e.email.toLowerCase().includes(t):"")||(e.position?e.position.toLowerCase().includes(t):"")||(e.permissions?e.permissions.toLowerCase().includes(t):"")||(e.address?e.address.toLowerCase().includes(t):"")}));l(e)}),[t]);(0,a.useEffect)((function(){l(p?o.sort((function(e,t){return e.name>t.name?1:-1})):o.sort((function(e,t){return e.name<t.name?1:-1})))}),[p]);function y(e){e.preventDefault(),e.target.parentElement.submit()}function v(e){e.preventDefault(),e.target.parentElement.submit()}return(0,a.useEffect)((function(){l(x?o.sort((function(e,t){return e.address>t.address?1:-1})):o.sort((function(e,t){return e.address<t.address?1:-1})))}),[x]),(0,r.jsxs)("div",{className:"p-2",children:[(0,r.jsxs)("div",{className:"relative w-80 px-4 py-3",children:[(0,r.jsx)("input",{type:"search",className:"appearance-none shadow border py-2 px-3 text-gray-500 focus:outline-none focus:shadow-outline w-5/6",id:"search",placeholder:"Поиск",name:"search",autoFocus:!0,value:t,onChange:function(e){n(e.target.value)}}),(0,r.jsx)("button",{type:"submit",className:"y-2 px-3 w-1/6 h-4/6 absolute inset-y-3 right-0 flex items-center bg-indigo-600 text-white text-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:(0,r.jsx)("svg",{className:"w-10 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",stroke:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),(0,r.jsx)("div",{className:"flex flex-col hidden lg:-mt-px xl:flex",children:(0,r.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8 ",children:(0,r.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 ",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"relative px-6 py-3 text-center",children:"№"}),(0,r.jsx)("th",{scope:"col",className:"relative px-6 py-3 text-center",children:(0,r.jsx)("button",{onClick:function(e){m(p?0:1),l(p?o.sort((function(e,t){return e.name>t.name?1:-1})):o.sort((function(e,t){return e.name<t.name?1:-1})))},className:"text-indigo-600 hover:text-indigo-900",children:"ФИО"})}),(0,r.jsx)("th",{scope:"col",className:"relative px-6 py-3 text-center",children:(0,r.jsx)("button",{onClick:function(e){h(x?0:1),l(x?o.sort((function(e,t){return e.address>t.address?1:-1})):o.sort((function(e,t){return e.address<t.address?1:-1})))},className:"text-indigo-600 hover:text-indigo-900",children:"Адрес"})}),(0,r.jsx)("th",{scope:"col",className:"relative px-6 py-3 text-center",children:"Телефон"}),(0,r.jsx)("th",{scope:"col",className:"relative px-6 py-3 text-center",children:"Электронный ящик"}),(0,r.jsx)("th",{scope:"col",className:"relative px-6 py-3 text-center",children:"Должность"}),(0,r.jsx)("th",{scope:"col",className:"relative px-6 py-3 text-center",children:"Права"}),(0,r.jsx)("th",{scope:"col",className:"relative px-6 py-3 text-center",colSpan:"2",children:"Действия"})]})}),(0,r.jsx)("tbody",{children:o.map((function(e,t){return(0,r.jsxs)("tr",{className:"bg-white ".concat(t%2==0?"bg-gray-200":""),id:"".concat(t),children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center font-medium text-gray-900",children:t+1}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-wrap text-wrap text-center font-medium text-gray-900",children:e.name}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:e.address}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:e.phone}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:e.email}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-wrap text-wrap text-center text-sm font-medium",children:e.position}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-nowrap text-center text-sm font-medium",children:(0,r.jsx)("div",{className:"permissions_".concat(t)})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:(0,r.jsxs)("form",{method:"POST",action:"/manage/update",children:[(0,r.jsx)("input",{type:"hidden",name:"_token",value:"".concat(u)}),(0,r.jsx)("input",{name:"user_update",value:"".concat(e.id),type:"hidden"}),(0,r.jsx)("a",{href:"/manage/update",onClick:y,className:"text-indigo-600 hover:text-indigo-900",children:"Редактировать"})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:(0,r.jsxs)("form",{method:"POST",action:"/manage/delete",children:[(0,r.jsx)("input",{type:"hidden",name:"_token",value:"".concat(u)}),(0,r.jsx)("input",{name:"user_del",value:"".concat(e.id),type:"hidden"}),(0,r.jsx)("a",{href:"/manage/delete",onClick:v,className:"text-indigo-600 hover:text-indigo-900",children:"Удалить"})]})})]},"".concat(t))}))})]})})})})}),(0,r.jsx)("div",{className:"flex flex-col xl:hidden ",children:(0,r.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8 ",children:(0,r.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 ",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsx)("tr",{children:(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Пользователи"})})}),(0,r.jsx)("tbody",{children:o.map((function(e,t){return(0,r.jsx)("tr",{className:"bg-white bg-gray-100 border-b border-gray-400",id:"".concat(t),children:(0,r.jsxs)("td",{children:[(0,r.jsxs)("div",{className:"px-6 py-4 whitespace-wrap text-wrap text-sm font-bold text-gray-900 text-center bg-gray-200",children:[t+1,". ",e.name]}),(0,r.jsx)("div",{className:"px-6 py-4 whitespace-wrap text-sm font-medium text-gray-900 text-right",children:e.address}),(0,r.jsx)("div",{className:"px-6 py-4 whitespace-wrap text-sm font-medium text-gray-900 text-right",children:e.phone}),(0,r.jsx)("div",{className:"px-6 py-4 whitespace-wrap text-sm font-medium text-gray-900 text-right bg-gray-200",children:e.email}),(0,r.jsx)("div",{className:"px-6 py-4 whitespace-wrap text-wrap text-sm font-medium text-gray-900 text-right",children:e.position}),(0,r.jsx)("div",{className:"px-6 py-4 whitespace-wrap text-right text-sm font-medium bg-gray-200",children:(0,r.jsx)("div",{className:"permissions_".concat(t)})}),(0,r.jsx)("div",{className:"px-6 py-4 whitespace-wrap text-right text-sm font-medium",children:(0,r.jsxs)("form",{method:"POST",action:"/manage/update",children:[(0,r.jsx)("input",{type:"hidden",name:"_token",value:"".concat(u)}),(0,r.jsx)("input",{name:"user_update",value:"".concat(e.id),type:"hidden"}),(0,r.jsx)("a",{href:"/manage/update",onClick:y,className:"text-indigo-600 hover:text-indigo-900",children:"Редактировать"})]})}),(0,r.jsx)("div",{className:"px-6 py-4 whitespace-wrap text-right text-sm font-medium ",children:(0,r.jsxs)("form",{method:"POST",action:"/manage/delete",children:[(0,r.jsx)("input",{type:"hidden",name:"_token",value:"".concat(u)}),(0,r.jsx)("input",{name:"user_del",value:"".concat(e.id),type:"hidden"}),(0,r.jsx)("a",{href:"#",onClick:v,className:"text-indigo-600 hover:text-indigo-900",children:"Удалить"})]})})]})},"".concat(t))}))})]})})})})})]})}(0,s.render)((0,r.jsx)(d,{}),document.getElementById("users"))},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,s){for(var i,o,l=a(e),c=1;c<arguments.length;c++){for(var u in i=Object(arguments[c]))n.call(i,u)&&(l[u]=i[u]);if(t){o=t(i);for(var d=0;d<o.length;d++)r.call(i,o[d])&&(l[o[d]]=i[o[d]])}}return l}},53:(e,t)=>{"use strict";var n,r,a,s;if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,d=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},r=function(e,t){u=setTimeout(e,t)},a=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var x=!1,h=null,y=-1,v=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var g=new MessageChannel,w=g.port2;g.port1.onmessage=function(){if(null!==h){var e=t.unstable_now();b=e+v;try{h(!0,e)?w.postMessage(null):(x=!1,h=null)}catch(e){throw w.postMessage(null),e}}else x=!1},n=function(e){h=e,x||(x=!0,w.postMessage(null))},r=function(e,n){y=p((function(){e(t.unstable_now())}),n)},a=function(){m(y),y=-1}}function j(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<_(a,t)))break e;e[r]=t,e[n]=a,n=r}}function N(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var s=2*(r+1)-1,i=e[s],o=s+1,l=e[o];if(void 0!==i&&0>_(i,n))void 0!==l&&0>_(l,i)?(e[r]=l,e[o]=n,r=o):(e[r]=i,e[s]=n,r=s);else{if(!(void 0!==l&&0>_(l,n)))break e;e[r]=l,e[o]=n,r=o}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],T=[],O=1,S=null,P=3,E=!1,I=!1,M=!1;function A(e){for(var t=N(T);null!==t;){if(null===t.callback)k(T);else{if(!(t.startTime<=e))break;k(T),t.sortIndex=t.expirationTime,j(C,t)}t=N(T)}}function L(e){if(M=!1,A(e),!I)if(null!==N(C))I=!0,n(F);else{var t=N(T);null!==t&&r(L,t.startTime-e)}}function F(e,n){I=!1,M&&(M=!1,a()),E=!0;var s=P;try{for(A(n),S=N(C);null!==S&&(!(S.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=S.callback;if("function"==typeof i){S.callback=null,P=S.priorityLevel;var o=i(S.expirationTime<=n);n=t.unstable_now(),"function"==typeof o?S.callback=o:S===N(C)&&k(C),A(n)}else k(C);S=N(C)}if(null!==S)var l=!0;else{var c=N(T);null!==c&&r(L,c.startTime-n),l=!1}return l}finally{S=null,P=s,E=!1}}var q=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||E||(I=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return N(C)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=q,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,s,i){var o=t.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:O++,callback:s,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>o?(e.sortIndex=i,j(T,e),null===N(C)&&e===N(T)&&(M?a():M=!0,r(L,i-o))):(e.sortIndex=l,j(C,e),I||E||(I=!0,n(F))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)}},0,[[3700,929,898]]]);