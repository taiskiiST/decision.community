/*! For license information please see AddQuestionsToPoll.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[143],{2364:(e,t,n)=>{"use strict";var r=n(7294),i=n(3935),o=n(5934),s=n(5893);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===l(o)?o:String(o)),r)}var i,o}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}const d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(o,e);var t,n,r,i=c(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,e)}return t=o,(n=[{key:"render",value:function(){return(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"button",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 mt-2",onClick:this.props.handleAddingFile,children:"Добавить файл к вопросу"})})}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.Component);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===p(o)?o:String(o)),r)}var i,o}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(o,e);var t,n,r,i=b(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,e)}return t=o,n=[{key:"render",value:function(){var e=this.props.isReport;return(0,s.jsx)("div",{children:!e&&(0,s.jsx)("button",{type:"button",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 mt-2",onClick:this.props.handleAddingAnswer,children:"Добавить Ответ к вопросу"})})}}],n&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.Component);const x=v;n(559);const g=function(e){var t=e.url,n=(e.alternativeText,e.file_id);return(0,s.jsxs)("div",{children:[(0,s.jsx)("object",{data:t,type:"application/pdf",width:"100%",height:"100%",className:"h-96",children:(0,s.jsxs)("p",{className:"py-20",children:["Перейдите по ссылке для предпросмотра: ",(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:t,target:"_blank",className:"bg-violet-500 hover:bg-violet-400 active:bg-violet-600 focus:outline-none focus:ring focus:ring-violet-300",children:"ФАЙЛА"})," ",(0,s.jsx)("br",{}),"PDF файла"]})}),(0,s.jsx)("input",{name:n,defaultValue:t,className:"hidden"})]})};const w=function(e){var t=e.url,n=e.alternativeText,r=void 0===n?"Просмотреть файл по ссылке":n,i=e.file_id;return(0,s.jsxs)("div",{children:[(0,s.jsx)("a",{href:t,target:"_blank",className:"bg-violet-500 hover:bg-violet-400 active:bg-violet-600 focus:outline-none focus:ring focus:ring-violet-300",children:r}),(0,s.jsx)("input",{name:i,defaultValue:t,className:"hidden"})]})};function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function j(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===F(o)?o:String(o)),r)}var i,o}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var i=N(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}const A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(o,e);var t,n,r,i=S(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,e)}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props.file,n=t.file_id,r=(t.text,this.props.num_of_question),i=this.props.num_of_file,o=this.props.isUpdate,l=this.props.numQuestion;return(0,s.jsxs)("div",{id:"data_".concat(n),className:"col-span-6 sm:col-span-3 mt-8 border-t-8 border-double border-gray-400",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"inline-flex flex-row w-full",children:[!o&&(0,s.jsxs)("label",{htmlFor:"file_text_for_".concat(n),className:"mt-3 block text-sm font-medium text-gray-700",children:["Введите описание файла к вопросу №",r,", файлу №",i+1," "]}),o&&(0,s.jsxs)("label",{htmlFor:"file_text_for_".concat(n),className:"mt-3 block text-sm font-medium text-gray-700",children:["Введите описание файла к вопросу №",l,", файлу №",i+1," "]}),(0,s.jsx)("div",{className:"flex-row-reverse contents",children:(0,s.jsx)("button",{id:"btn-del-data-".concat(n),className:"ml-auto text-red-800",type:"button",onClick:function(){return e.props.onDeleteFile(n)},children:(0,s.jsx)("svg",{className:"h-8 w-8",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})})]}),(0,s.jsx)("textarea",{type:"text",name:"file_text_for_".concat(n),id:"file_text_for_".concat(n),className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",onChange:this.props.onChangeTextInputFile,value:this.props.value,children:this.props.value})]}),(0,s.jsxs)("div",{className:"flex columns-2 mt-4",children:["img"==this.props.file.type&&(0,s.jsxs)("div",{id:"prev_".concat(n),className:"w-1/2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mt-6",children:["Предварительный просмотр к файлу №",i+1," вопроса №",r]}),(0,s.jsxs)("div",{className:"mt-1 flex items-center",children:[this.props.file.fileUpload&&this.props.file.fileLoaded&&j(this.props.file.fileUpload).map((function(t,n){return e.props.file.isValidFileName&&e.props.file.isValidFileSize&&(0,s.jsx)("img",{id:URL.createObjectURL(t).split("/")[3],src:URL.createObjectURL(t)},"index")})),this.props.file.fileUpload&&!this.props.file.fileLoaded&&j(this.props.file.fileUpload).map((function(t,r){return e.props.file.isValidFileName&&e.props.file.isValidFileSize&&(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{id:t.name,src:t.name}),(0,s.jsx)("input",{name:n,defaultValue:t.name,className:"hidden"})]},"index")}))]})]}),"pdf"==this.props.file.type&&(0,s.jsxs)("div",{id:"prev_".concat(n),className:"w-1/2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mt-6",children:["Предварительный просмотр к файлу PDF №",i+1," вопроса №",r]}),(0,s.jsx)("div",{className:"mt-1 h-96 w-full relative text-center",children:(0,s.jsxs)("div",{id:"pdf-viewer",className:"absolute inset-y-0 left-0 w-full",children:[this.props.file.fileUpload&&this.props.file.fileLoaded&&j(this.props.file.fileUpload).map((function(t,n){return e.props.file.isValidFileName&&e.props.file.isValidFileSize&&(0,s.jsx)(g,{url:URL.createObjectURL(t),alternativeText:t.name},n)})),this.props.file.fileUpload&&!this.props.file.fileLoaded&&j(this.props.file.fileUpload).map((function(t,r){return e.props.file.isValidFileName&&e.props.file.isValidFileSize&&(0,s.jsx)(g,{url:t.name,alternativeText:t.name,file_id:n},r)}))]})})]}),"other"==this.props.file.type&&(0,s.jsxs)("div",{id:"prev_".concat(n),className:"w-1/2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mt-6",children:["Предварительный просмотр к файлу №",i+1," вопроса №",r]}),(0,s.jsx)("div",{className:"mt-6 h-24 w-full text-center",children:(0,s.jsxs)("div",{id:"file-viewer",className:"flex h-1/2 flex-col-reverse",children:[this.props.file.fileUpload&&this.props.file.fileLoaded&&j(this.props.file.fileUpload).map((function(t,n){return e.props.file.isValidFileName&&e.props.file.isValidFileSize&&(0,s.jsx)(w,{url:URL.createObjectURL(t),alternativeText:t.name},n)})),this.props.file.fileUpload&&!this.props.file.fileLoaded&&j(this.props.file.fileUpload).map((function(t,r){return e.props.file.isValidFileName&&e.props.file.isValidFileSize&&(0,s.jsx)(w,{url:t.name,file_id:n},r)}))]})})]}),(0,s.jsx)("div",{id:"drag_and_drop_aria_".concat(n),className:"".concat(this.props.file.hideDragAndDrop?"w-1/2":"w-full"," place-self-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"),children:(0,s.jsx)("div",{className:"mt-1 flex justify-center ",children:(0,s.jsxs)("div",{className:"space-y-1 text-center",children:[(0,s.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsx)("div",{className:"flex text-sm text-gray-600 flex-col",children:(0,s.jsxs)("label",{htmlFor:n,className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[(0,s.jsx)("span",{children:this.props.file.hideDragAndDrop?"Измените файл":"Загрузите файл"}),(0,s.jsx)("input",{id:n,name:n,type:"file",className:"sr-only",ref:this.props.fileInput,onChange:this.props.onChangeUploadInputFile})]})}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"PDF, PNG, JPG, GIF не более 10MB"})]})})})]})]})}}])&&O(t.prototype,n),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.Component);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===D(o)?o:String(o)),r)}var i,o}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(o,e);var t,n,r,i=U(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,e)}return t=o,n=[{key:"render",value:function(){var e=this,t=this.props.answer,n=this.props.num_of_question,r=this.props.num_of_answer,i=this.props.isUpdate,o=this.props.numQuestion,l=this.props.isReport;return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{id:"answer_".concat(t.answer_id),className:"col-span-6 sm:col-span-3 mt-8 border-t-8 border-double border-gray-400 ".concat(l?"hidden":""),children:[(0,s.jsxs)("div",{className:"inline-flex flex-row w-full",children:[!i&&(0,s.jsxs)("label",{htmlFor:"text_answer_".concat(t.answer_id),className:"mt-3 block text-sm font-medium text-gray-700",children:["Введите текст ответа к вопросу №",n,", ответ №",r+1," "]}),i&&(0,s.jsxs)("label",{htmlFor:"text_answer_".concat(t.answer_id),className:"mt-3 block text-sm font-medium text-gray-700",children:["Введите текст ответа к вопросу №",o,", ответ №",r+1," "]}),(0,s.jsx)("div",{className:"flex-row-reverse contents",children:0!=r&&(0,s.jsx)("button",{id:"btn-del-answer-".concat(t.answer_id),className:"ml-auto text-red-800",type:"button",onClick:function(){return e.props.onDeleteAnswer(t.answer_id)},children:(0,s.jsx)("svg",{className:"h-8 w-8",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})})]}),(0,s.jsx)("input",{type:"text",name:"text_answer_".concat(t.answer_id),id:"text_answer_".concat(t.answer_id),className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:t.text,onChange:this.props.onChangeTextInputAnswer})]})})}}],n&&T(t.prototype,n),r&&T(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.Component);const V=C;var R=n(3740);const I=function(e){var t=e.formErrors;return(0,s.jsx)("div",{className:"formErrors",children:(t.inputTextOfQuestion||t.inputFilesText||t.inputFilesUploadSize||t.inputFilesUploadName||t.inputAnswers)&&(0,s.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(R.Z,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Исправьте слудющие ошибки в заполенении формы:"}),(0,s.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,s.jsx)("ul",{role:"list",className:"list-disc pl-5 space-y-1",children:Object.keys(t).map((function(e,n){return t[e].length>0?(0,s.jsx)("li",{children:t[e]},n):""}))})})]})]})})})};function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function Q(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(){z=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var o=new RegExp(e,r);return t.set(o,i||t.get(e)),H(o,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var i=r[n];if("number"==typeof i)t[n]=e[i];else{for(var o=0;void 0===e[i[o]]&&o+1<i.length;)o++;t[n]=e[i[o]]}return t}),Object.create(null))}return $(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=r(n,this);var i=n.indices;i&&(i.groups=r(i,this))}return n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var o=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){var n=o[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof i){var s=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=L(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,s)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},z.apply(this,arguments)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y(r.key),r)}}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var i=G(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}(this,n)}}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function X(e,t,n){return(t=Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}var K=window.TSN||{},ee=K.poll,te=K.count_question,ne=K.current_num_question,re=K.csrf_token,ie=K.question,oe=K.files,se=K.answer,le=K.error,ae=K.isReport,ue=K.isInformationPost,ce=K.isSuggestedQuestion,fe=function(e){$(a,e);var t,n,i,l=W(a);function a(e){var t,n;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),X(J(t=l.call(this,e)),"handleQuestionTextInput",(function(e){var n=e.target.value;t.setState((function(e){return M(M({},e),{},{inputTextOfQuestion:M(M({},e.inputTextOfQuestion),{},{text:n})})}),t.validateFormTextQuestion(n))})),X(J(t),"handleFileTextInput",(function(e){var n=e.target.name,r=e.target.value,i=t.getId(2,n),o=t.state.fileUploads.map((function(e){return r.length>0?e.file_id==i[0]?M(M({},e),{},{text:r,isValidText:!0}):e:e.file_id==i[0]?M(M({},e),{},{text:r,isValidText:!1}):e}));t.setState((function(e){return M(M({},e),{},{fileUploads:o})}),t.validateAllInputOfFile)})),X(J(t),"handleFileUploadInput",(function(e){var n,r=e.target.name,i="";if(!e.target.files[0])return!1;switch(console.log(e.target.files[0].type),e.target.files[0].type){case"image/png":case"image/jpeg":i="img";break;case"application/pdf":i="pdf";break;default:i="other"}n=t.checkFileTypeSizeName(i,e.target.files,r),t.setState({fileUploads:n})})),X(J(t),"handleAnswerInput",(function(e){var n=e.target.name,r=e.target.value,i=t.getId(4,n),o=t.state.answers.map((function(e){return r.length>0?e.answer_id==i[0]?M(M({},e),{},{text:r,isValidText:!0}):e:e.answer_id==i[0]?M(M({},e),{},{text:r,isValidText:!1}):e}));t.setState((function(e){return M(M({},e),{},{answers:o})}),t.validateAllInputOfAnswer)})),X(J(t),"handleQuestionPublic",(function(e){var n;n=e.target.checked?"checked":"",t.setState((function(e){return M(M({},e),{},{isPublic:n})}),t.validateAllInputOfAnswer)})),X(J(t),"handleQuestionEditing",(function(e){var n;n=e.target.checked?"checked":"",t.setState((function(e){return M(M({},e),{},{isEditing:n})}),t.validateAllInputOfAnswer)})),t.handleAddingFile=t.handleAddingFile.bind(J(t)),t.handleAddingAnswer=t.handleAddingAnswer.bind(J(t)),t.handleDeletingFile=t.handleDeletingFile.bind(J(t)),t.handleDeletingAnswer=t.handleDeletingAnswer.bind(J(t)),t.handleQuestionTextInput=t.handleQuestionTextInput.bind(J(t)),t.handleFileTextInput=t.handleFileTextInput.bind(J(t)),t.handleAnswerInput=t.handleAnswerInput.bind(J(t)),t.submitForm=t.submitForm.bind(J(t)),t.handleFileUploadInput=t.handleFileUploadInput.bind(J(t)),t.handleQuestionPublic=t.handleQuestionPublic.bind(J(t)),t.handleQuestionEditing=t.handleQuestionEditing.bind(J(t)),t.form=r.createRef(),ie)?(n=oe.map((function(e){return M(M({},e),{},{fileInputRef:r.createRef()})})),t.state={fileUploads:n,answers:se,inputTextOfQuestion:{text:ie.text,isValid:!0},formErrors:{inputTextOfQuestion:"",inputFilesText:"",inputFilesUploadSize:le||"",inputFilesUploadName:"",inputAnswers:""},inputFilesTextIsValid:!1,newFormErrors:[],formValid:!1,isValidAllTextOfFiles:!0,isValidAllUploadFiles:!0,isValidAllAnswers:!0,isPublic:ie.public?"checked":"",isEditing:ie.is_editing?"":"checked"}):t.state={fileUploads:[],answers:ae?[{answer_id:(0,o.Z)(),text:"1",isValidText:!0},{answer_id:(0,o.Z)(),text:"2",isValidText:!0},{answer_id:(0,o.Z)(),text:"3",isValidText:!0},{answer_id:(0,o.Z)(),text:"4",isValidText:!0},{answer_id:(0,o.Z)(),text:"5",isValidText:!0}]:ue?[]:[{answer_id:(0,o.Z)(),text:"За",isValidText:!0},{answer_id:(0,o.Z)(),text:"Против",isValidText:!0},{answer_id:(0,o.Z)(),text:"Воздержался",isValidText:!0}],inputTextOfQuestion:{text:"",isValid:!1},formErrors:{inputTextOfQuestion:"",inputFilesText:"",inputFilesUploadSize:"",inputFilesUploadName:"",inputAnswers:""},inputFilesTextIsValid:!1,newFormErrors:[],formValid:!1,isValidAllTextOfFiles:!0,isValidAllUploadFiles:!0,isValidAllAnswers:!0,isPublic:"",isEditing:""};return t}return t=a,n=[{key:"submitForm",value:function(e){}},{key:"validateFormTextQuestion",value:function(e){e.length>0?(this.setState((function(e){return M(M({},e),{},{inputTextOfQuestion:M(M({},e.inputTextOfQuestion),{},{isValid:!0})})}),this.validateForm),this.setState((function(e){return M(M({},e),{},{formErrors:M(M({},e.formErrors),{},{inputTextOfQuestion:""})})}),this.validateForm)):(this.setState((function(e){return M(M({},e),{},{formErrors:M(M({},e.formErrors),{},{inputTextOfQuestion:"Поле текста вопроса обязательно для заполнения!"})})}),this.validateForm),this.setState((function(e){return M(M({},e),{},{inputTextOfQuestion:M(M({},e.inputTextOfQuestion),{},{isValid:!1})})}),this.validateForm))}},{key:"validateAllInputOfAnswer",value:function(){var e;e=this.state.answers.map((function(e){return e.isValidText}));for(var t=!0,n=0;n<e.length;n++)t=t&&e[n];t?this.setState((function(e){return M(M({},e),{},{isValidAllAnswers:!0})}),this.validateForm):this.setState((function(e){return M(M({},e),{},{isValidAllAnswers:!1})}),this.validateForm),this.setState((function(e){return M(M({},e),{},{formErrors:M(M({},e.formErrors),{},{inputAnswers:t?"":"Описание ответа обязательно для заполенния!"})})}),this.validateForm)}},{key:"validateAllOfFile",value:function(){var e=this.state.formErrors;this.checkAllUploadsFilesSize()?e.inputFilesUploadSize="":e.inputFilesUploadSize="Файл должен быть не больше 10Мб!",this.checkAllUploadsFilesName()?e.inputFilesUploadName="":e.inputFilesUploadName="Недопустимое имя файла!",this.validateAllInputOfFile()?e.inputFilesText="":e.inputFilesText="Описание файла обязательно для заполенния!",this.validateAllInputOfFile()?this.setState({isValidAllTextOfFiles:!0}):this.setState({isValidAllTextOfFiles:!1}),this.checkAllUploadsFilesSize()&&this.checkAllUploadsFilesName()?this.setState({isValidAllUploadFiles:!0}):this.setState({isValidAllUploadFiles:!1}),this.setState({formErrors:e},this.validateForm)}},{key:"validateAllInputOfFile",value:function(){var e;if(0==(e=this.state.fileUploads.map((function(e){return e.isValidText}))).length)return!0;for(var t=!0,n=0;n<e.length;n++)t=t&&e[n];return t?this.setState((function(e){return M(M({},e),{},{isValidAllTextOfFiles:!0})}),this.validateForm):this.setState((function(e){return M(M({},e),{},{isValidAllTextOfFiles:!1})}),this.validateForm),this.setState((function(e){return M(M({},e),{},{formErrors:M(M({},e.formErrors),{},{inputFilesText:t?"":"Описание файла обязательно для заполенния!"})})}),this.validateForm),t}},{key:"isValidAllTextAndFileFalse",value:function(){this.setState((function(e){return M(M({},e),{},{isValidAllTextOfFiles:!1,isValidAllUploadFiles:!1})}),this.validateForm),this.setState((function(e){return M(M({},e),{},{formErrors:M(M({},e.formErrors),{},{inputFilesText:"Описание файла обязательно для заполенния!",inputFilesUploadName:"Выберете файл."})})}),this.validateForm)}},{key:"checkAllUploadsFilesName",value:function(){var e;if(0==(e=this.state.fileUploads.map((function(e){return e.isValidFileName}))).length)return!0;for(var t=!0,n=0;n<e.length;n++)t=t&&e[n];return t}},{key:"checkUploadFileName",value:function(e){var t;t=e.map((function(e){return e.isValidFileName}));for(var n=!0,r=0;r<t.length;r++)n=n&&t[r];return n}},{key:"checkAllUploadsFilesSize",value:function(){var e;if(0==(e=this.state.fileUploads.map((function(e){return e.isValidFileSize}))).length)return!0;for(var t=!0,n=0;n<e.length;n++)t=t&&e[n];return t}},{key:"checkUploadFileSize",value:function(e){var t;t=e.map((function(e){return e.isValidFileSize}));for(var n=!0,r=0;r<t.length;r++)n=n&&t[r];return n}},{key:"checkNameOfFile",value:function(e){return!!(e.length>0&&e.length<50&&e.match(/^(?!^(PRN|AUX|CLOCK\$|NUL|CON|COM\d|LPT\d|\..*)(\..+)?$)[^\x00-\x1f\\?*:\";|/]+$/))}},{key:"checkFileTypeSizeName",value:function(e,t,n){var r=this,i=[];return i=(i=this.state.fileUploads.map((function(i){return t[0].size<10485760?i.file_id==n?M(M({},i),{},{type:e,fileUpload:t,hideDragAndDrop:!0,isValidFileSize:!0}):i:(r.setState((function(e){return M(M({},e),{},{formErrors:M(M({},e.formErrors),{},{inputFilesUploadSize:"Файл должен быть не больше 10Мб!"})})}),r.validateForm),i.file_id!==n?i:M(M({},i),{},{type:e,fileUpload:t,hideDragAndDrop:!0,isValidFileSize:!1}))}))).map((function(i){return r.checkNameOfFile(t[0].name)?i.file_id==n?M(M({},i),{},{type:e,fileUpload:t,hideDragAndDrop:!0,isValidFileName:!0,fileLoaded:!0}):i:(r.setState((function(e){return M(M({},e),{},{formErrors:M(M({},e.formErrors),{},{inputFilesUploadName:"Недопустимое имя файла!"})})}),r.validateForm),i.file_id==n?M(M({},i),{},{type:e,fileUpload:t,hideDragAndDrop:!0,isValidFileName:!1}):i)})),this.checkAllUploadsFilesSize&&this.checkUploadFileSize(i)&&this.checkAllUploadsFilesName&&this.checkUploadFileName(i)&&(this.setState({isValidAllUploadFiles:!0}),this.setState((function(e){return M(M({},e),{},{formErrors:M(M({},e.formErrors),{},{inputFilesUploadSize:"",inputFilesUploadName:""})})}),this.validateForm)),this.checkAllUploadsFilesSize&&this.checkUploadFileSize(i)||!this.checkAllUploadsFilesName||!this.checkUploadFileName(i)||(this.setState({isValidAllUploadFiles:!1}),this.setState((function(e){return M(M({},e),{},{formErrors:M(M({},e.formErrors),{},{inputFilesUploadSize:"Файл должен быть не больше 10Мб!",inputFilesUploadName:""})})}),this.validateForm)),!this.checkAllUploadsFilesSize||!this.checkUploadFileSize(i)||this.checkAllUploadsFilesName&&this.checkUploadFileName(i)||(this.setState({isValidAllUploadFiles:!1}),this.setState((function(e){return M(M({},e),{},{formErrors:M(M({},e.formErrors),{},{inputFilesUploadSize:"",inputFilesUploadName:"Недопустимое имя файла!"})})}),this.validateForm)),i}},{key:"getId",value:function(e,t){var n;switch(e){case 1:n=z(/(question_text_)/,{question_text:1});break;case 2:n=z(/(file_text_for_)/,{file_text:1});break;case 4:n=z(/(text_answer_)/,{answer_text:1})}if(n.exec(t)){switch(e){case 1:n=z(/((?:[\0-\^`-df-hj-mprvwy-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*$)/,{question_text:1});break;case 2:n=z(/((?:[\0-\^`-dghjkmnpqsu-wy-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*$)/,{file_text:1});break;case 4:n=z(/((?:[\0-\^`b-df-mo-quvy-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*$)/,{answer_text:1})}return n.exec(t)}return!1}},{key:"validateForm",value:function(){this.setState({formValid:this.state.inputTextOfQuestion.isValid&&this.state.isValidAllTextOfFiles&&this.state.isValidAllUploadFiles&&this.state.isValidAllAnswers})}},{key:"validateFormNew",value:function(){var e=[];return this.state.fileUploads.forEach((function(t){e.push("File ".concat(t.text," has an error."))})),this.state.answers.forEach((function(t){e.push("File ".concat(t.text," has an error."))})),e}},{key:"handleAddingFile",value:function(){var e=(0,o.Z)();this.setState((function(t){return M(M({},t),{},{fileUploads:[].concat(Q(t.fileUploads),[{file_id:e,text:"",fileUpload:"",type:"",hideDragAndDrop:!1,fileInputRef:r.createRef(),isValidFileSize:!1,isValidFileName:!1,isValidText:!1}])})}),this.isValidAllTextAndFileFalse)}},{key:"handleAddingAnswer",value:function(){var e=(0,o.Z)();this.setState((function(t){return M(M({},t),{},{answers:[].concat(Q(t.answers),[{answer_id:e,text:"",isValidText:!1}])})}),this.validateAllInputOfAnswer)}},{key:"handleDeletingFile",value:function(e){this.setState((function(t){return M(M({},t),{},{fileUploads:t.fileUploads.filter((function(t){return t.file_id!==e}))})}),this.validateAllOfFile)}},{key:"handleDeletingAnswer",value:function(e){this.setState((function(t){return M(M({},t),{},{answers:t.answers.filter((function(t){return t.answer_id!==e}))})}),this.validateAllInputOfAnswer)}},{key:"render",value:function(){var e=this;return(0,s.jsxs)("div",{className:"shadow overflow-hidden sm:rounded-md",children:[(0,s.jsx)("div",{className:"panel panel-default",children:(0,s.jsx)(I,{formErrors:this.state.formErrors})}),(0,s.jsxs)("form",{ref:function(t){e.form=t},onSubmit:this.submitForm,id:"form_id",action:"/polls/".concat(ee.id,"/questions/add"),encType:"multipart/form-data",method:"POST",children:[(0,s.jsx)("input",{type:"hidden",name:"_token",value:re}),(0,s.jsx)("div",{className:"px-4 py-5 bg-white sm:p-6",children:(0,s.jsx)("div",{className:"mt-10 sm:mt-0",children:(0,s.jsx)("div",{className:"grid",children:(0,s.jsxs)("div",{className:"mt-5 md:mt-0 md:col-span-2",children:[(0,s.jsxs)("div",{className:"col-span-2 inline-flex",children:[(0,s.jsxs)("div",{className:"px-4 sm:px-0",children:[!ie&&(0,s.jsxs)("h3",{className:"text-lg font-medium leading-6 text-gray-900 mt-6 ml-6",children:["Добавление вопроса к теме: ",ee.name]}),ie&&(0,s.jsxs)("h3",{className:"text-lg font-medium leading-6 text-gray-900 mt-6 ml-6",children:["Изменения вопроса ",ne," по теме: ",ee.name," с id ",ie.id]})]}),ce&&(0,s.jsx)("div",{className:"flex items-center px-4 py-5 bg-white sm:p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"QuestionEditingDone",name:"QuestionEditingDone_".concat(ie.id),type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",onChange:this.handleQuestionEditing,defaultChecked:this.state.isEditing}),(0,s.jsx)("label",{htmlFor:"QuestionPublic",className:"ml-2 block text-sm text-gray-900",children:"Окончеть режим редактирования (PS Если вы ставите галочку, то после подтверждения вопрос будет доступен к голосованию всем пользователям и изменить вопрос будет невозможно! В случае ошибки, вопрос можно будет только удалить.)"})]})})]}),(0,s.jsxs)("div",{id:"question",className:"col-span-3 sm:col-span-3 mt-6 pt-6 border-t border-gray-400 ",children:[(0,s.jsxs)("div",{className:"inline-flex flex-row w-full",children:[!ie&&(0,s.jsxs)("label",{htmlFor:"question_text_".concat(te+1),className:"block text-sm font-medium text-gray-700",children:["Введите текст вопроса №",te+1," (поддерживается HTML формат) "]}),ie&&(0,s.jsxs)("label",{htmlFor:"question_text_".concat(ne),className:"block text-sm font-medium text-gray-700",children:["Введите текст вопроса №",ne," (поддерживается HTML формат) "]})]}),!ie&&(0,s.jsx)("textarea",{type:"text",name:"question_text_0",id:"question_text_0",autoComplete:"given-name",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:this.state.inputTextOfQuestion.text,onChange:this.handleQuestionTextInput}),ie&&(0,s.jsx)("textarea",{type:"text",name:"question_text_".concat(ie.id),id:"question_text_".concat(ie.id),autoComplete:"given-name",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:this.state.inputTextOfQuestion.text,onChange:this.handleQuestionTextInput})]}),(0,s.jsx)("div",{id:"files_container",children:this.state.fileUploads.map((function(t,n){return(0,s.jsx)(A,{file:t,value:t.text,num_of_question:te+1,num_of_file:n,onDeleteFile:e.handleDeletingFile,onChangeTextInputFile:e.handleFileTextInput,onChangeUploadInputFile:e.handleFileUploadInput,fileInputRef:t.fileInputRef,hideDragAndDrop:t.hideDragAndDrop,isUpdate:ie,numQuestion:ne},n)}))}),(0,s.jsx)(d,{handleAddingFile:this.handleAddingFile}),(0,s.jsx)("div",{id:"answer_container",children:!ue&&this.state.answers.map((function(t,n){return(0,s.jsx)(V,{answer:t,num_of_question:te+1,num_of_answer:n,onDeleteAnswer:e.handleDeletingAnswer,onChangeTextInputAnswer:e.handleAnswerInput,isUpdate:ie,isReport:ae,numQuestion:ne},t.answer_id)}))}),!ue&&(0,s.jsx)(x,{handleAddingAnswer:this.handleAddingAnswer,isReport:ae})]})})})}),!ce&&(0,s.jsx)("div",{className:"flex items-center px-4 py-5 bg-white sm:p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"QuestionPublic",name:"QuestionPublic",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",onChange:this.handleQuestionPublic,defaultChecked:this.state.isPublic}),(0,s.jsx)("label",{htmlFor:"QuestionPublic",className:"ml-2 block text-sm text-gray-900",children:"Доступен всем"})]})}),(0,s.jsx)("div",{hidden:!0,children:(0,s.jsx)("input",{id:"SuggestedQuestion",name:"SuggestedQuestion",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",defaultChecked:ce?"checked":""})}),(0,s.jsxs)("div",{className:"inline-flex flex-row w-full place-content-between",children:[(0,s.jsxs)("div",{className:"px-4 py-3 bg-gray-50  sm:px-6",children:[!ie&&(0,s.jsx)("button",{type:"submit",className:"".concat(this.state.formValid?"justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500":"justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),disabled:!this.state.formValid,children:"Добавить Вопрос к опросу"}),ie&&(0,s.jsx)("button",{type:"submit",className:"".concat(this.state.formValid?"justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500":"justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),disabled:!this.state.formValid,children:"Изменить Вопрос к опросу"})]}),(0,s.jsxs)("div",{className:"px-4 py-3 bg-gray-50 sm:px-6 flex-row-reverse ",children:[!ce&&(0,s.jsx)("a",{href:"/polls/".concat(ee.id,"/edit"),children:(0,s.jsx)("button",{type:"button",className:"justify-end py-2 px-4 border border-transparent text-sm font-medium text-white shadow-sm rounded-md bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Отмена"})}),ce&&(0,s.jsx)("a",{href:"/polls/view/suggested/questions",children:(0,s.jsx)("button",{type:"button",className:"justify-end py-2 px-4 border border-transparent text-sm font-medium text-white shadow-sm rounded-md bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Отмена"})})]})]})]})]})}}],n&&Z(t.prototype,n),i&&Z(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component);const de=fe;var pe=function(){return(0,s.jsx)(de,{})};i.render((0,s.jsx)(pe,{}),document.getElementById("add-questions-to-poll"))},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,s,l=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){for(var u in o=Object(arguments[a]))n.call(o,u)&&(l[u]=o[u]);if(t){s=t(o);for(var c=0;c<s.length;c++)r.call(o,s[c])&&(l[s[c]]=o[s[c]])}}return l}},559:function(e,t){var n,r,i;r=[],void 0===(i="function"==typeof(n=function(){"use strict";if("undefined"==typeof window||void 0===window.navigator||void 0===window.navigator.userAgent||void 0===window.navigator.mimeTypes)return!1;let e="2.2.12",t=window.navigator,n=window.navigator.userAgent,r="ActiveXObject"in window,i=void 0!==window.Promise,o=void 0!==t.mimeTypes["application/pdf"],s=void 0!==t.platform&&"MacIntel"===t.platform&&void 0!==t.maxTouchPoints&&t.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(n),l=!s&&void 0!==t.vendor&&/Apple/.test(t.vendor)&&/Safari/.test(n),a=!!(!s&&/irefox/.test(n)&&n.split("rv:").length>1)&&parseInt(n.split("rv:")[1].split(".")[0],10)>18,u=function(e){var t;try{t=new ActiveXObject(e)}catch(e){t=null}return t},c=function(){return!(!u("AcroPDF.PDF")&&!u("PDF.PdfCtrl"))},f=!s&&(i||a||o||r&&c()),d=function(e){let t,n="";if(e){for(t in e)e.hasOwnProperty(t)&&(n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&");n&&(n="#"+n,n=n.slice(0,n.length-1))}return n},p=function(e,t){return t||console.log("[PDFObject] "+e),!1},m=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},h=function(e){let t=document.body;return"string"==typeof e?t=document.querySelector(e):void 0!==window.jQuery&&e instanceof jQuery&&e.length?t=e.get(0):void 0!==e.nodeType&&1===e.nodeType&&(t=e),t},b=function(e,t,n,r,i,o,s,l,a,u,c){m(t);let f=n;if("pdfjs"===e){let e=-1!==c.indexOf("?")?"&":"?";f=c+e+"file="+encodeURIComponent(n)+r}else f+=r;let d="pdfjs"===e||"iframe"===e?"iframe":"embed",p=document.createElement(d);if(p.className="pdfobject",p.type="application/pdf",p.title=l,p.src=f,s&&(p.id=s),"iframe"===d&&(p.allow="fullscreen",p.frameborder="0"),!a){let e="embed"===d?"overflow: auto;":"border: none;";t!==document.body?e+="width: "+i+"; height: "+o+";":e+="position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;",p.style.cssText=e}let h=["className","type","title","src","style","id","allow","frameborder"];return u&&u.key&&-1===h.indexOf(u.key)&&p.setAttribute(u.key,void 0!==u.value?u.value:""),t.classList.add("pdfobject-container"),t.appendChild(p),t.getElementsByTagName(d)[0]},y=function(e,t,n){let r=t||!1,i=n||{},o="string"==typeof i.id?i.id:"",a=i.page||!1,u=i.pdfOpenParams||{},c="string"!=typeof i.fallbackLink&&"boolean"!=typeof i.fallbackLink||i.fallbackLink,m=i.width||"100%",y=i.height||"100%",v=i.title||"Embedded PDF",x="boolean"!=typeof i.assumptionMode||i.assumptionMode,g="boolean"==typeof i.forcePDFJS&&i.forcePDFJS,w="boolean"==typeof i.supportRedirect&&i.supportRedirect,F="boolean"==typeof i.omitInlineStyles&&i.omitInlineStyles,j="boolean"==typeof i.suppressConsole&&i.suppressConsole,_="boolean"==typeof i.forceIframe&&i.forceIframe,O=i.PDFJS_URL||!1,k=h(r),S="",N="",A=i.customAttribute||{},D="<p>This browser does not support inline PDFs. Please download the PDF to view it: <a href='[url]'>Download PDF</a></p>";return"string"!=typeof e?p("URL is not valid",j):k?(a&&(u.page=a),N=d(u),g&&O?b("pdfjs",k,e,N,m,y,o,v,F,A,O):f||x&&!s?b(_||w||l?"iframe":"embed",k,e,N,m,y,o,v,F,A):O?b("pdfjs",k,e,N,m,y,o,v,F,A,O):(c&&(S="string"==typeof c?c:D,k.innerHTML=S.replace(/\[url\]/g,e)),p("This browser does not support embedded PDFs",j))):p("Target element cannot be determined",j)};return{embed:function(e,t,n){return y(e,t,n)},pdfobjectversion:e,supportsPDFs:f}})?n.apply(t,r):n)||(e.exports=i)},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,f=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(f,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(f,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var h=!1,b=null,y=-1,v=5,x=0;t.unstable_shouldYield=function(){return t.unstable_now()>=x},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var g=new MessageChannel,w=g.port2;g.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();x=e+v;try{b(!0,e)?w.postMessage(null):(h=!1,b=null)}catch(e){throw w.postMessage(null),e}}else h=!1},n=function(e){b=e,h||(h=!0,w.postMessage(null))},r=function(e,n){y=d((function(){e(t.unstable_now())}),n)},i=function(){p(y),y=-1}}function F(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<O(i,t)))break e;e[r]=t,e[n]=i,n=r}}function j(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],l=o+1,a=e[l];if(void 0!==s&&0>O(s,n))void 0!==a&&0>O(a,s)?(e[r]=a,e[l]=n,r=l):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==a&&0>O(a,n)))break e;e[r]=a,e[l]=n,r=l}}}return t}return null}function O(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],S=[],N=1,A=null,D=3,T=!1,P=!1,U=!1;function E(e){for(var t=j(S);null!==t;){if(null===t.callback)_(S);else{if(!(t.startTime<=e))break;_(S),t.sortIndex=t.expirationTime,F(k,t)}t=j(S)}}function C(e){if(U=!1,E(e),!P)if(null!==j(k))P=!0,n(V);else{var t=j(S);null!==t&&r(C,t.startTime-e)}}function V(e,n){P=!1,U&&(U=!1,i()),T=!0;var o=D;try{for(E(n),A=j(k);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=A.callback;if("function"==typeof s){A.callback=null,D=A.priorityLevel;var l=s(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?A.callback=l:A===j(k)&&_(k),E(n)}else _(k);A=j(k)}if(null!==A)var a=!0;else{var u=j(S);null!==u&&r(C,u.startTime-n),a=!1}return a}finally{A=null,D=o,T=!1}}var R=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||T||(P=!0,n(V))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return j(k)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=R,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,o,s){var l=t.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:N++,callback:o,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>l?(e.sortIndex=s,F(S,e),null===j(k)&&e===j(S)&&(U?i():U=!0,r(C,s-l))):(e.sortIndex=a,F(k,e),P||T||(P=!0,n(V))),e},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},5934:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>f});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const l=function(e){return"string"==typeof e&&s.test(e)};for(var a=[],u=0;u<256;++u)a.push((u+256).toString(16).substr(1));const c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase();if(!l(n))throw TypeError("Stringified UUID is invalid");return n};const f=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return c(r)}},3740:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7294);const i=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))}))}},e=>{e.O(0,[898],(()=>{return t=2364,e(e.s=t);var t}));e.O()}]);